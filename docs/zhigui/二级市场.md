泽群id： 838b626e-7af1-4e11-8edd-08c3337f7176

payment_platform_accounts





```
Sm Personal Center 
	common-web
	es

Sm Management 
	common-web

Sm Order
	common-web

Sm System Consumer 
	common-web

Sm System
	db-sys

Sm FileServer
	common

Sm System Job Runner 
	common-web




```











```
grafana: https://prod-grafana.meta-hub.com.cn  admin  / ls67dQ82U7ShSTsam6CJcPH2zz7HwYarPiNTzhPg

keycloak: https://prod-sso.meta-hub.com.cn  myuser / 2wkrDsbcEVGK

```

```shell

RUN --mount=type=cache,id=nft-mall-web-server-cache130,target=/root/.m2/repository mvn package -Dmaven.test.skip=true \
    -Denv.project.version=${VERSION} -Denv.nft-mall-common.version=${NFT_MALL_COMMON_VERSION} -Denv.nft-mall-redis.version=${NFT_MALL_REDIS_VERSION} -Denv.parent.version=${PARENT_VERSION}

其他web项目
-Denv.es.version = {}
-Denv.common-web.version = {}

common项目
-Denv.db-sys.version = {}
-Denv.redis.version = {}
-Denv.common.version = {}
```











```
中间服务
argo:    https://pre-argo.meta-hub.com.cn admin /   zcTPkDUsJYNJmlsf      
grafana:  https://pre-grafana.meta-hub.com.cn  admin /  WdyKEbCs9W7zcKmVhuDSnlfTBqU88AdhBtkS6FRl
nacos:  https://pre-nacos.meta-hub.com.cn   nacos / G9BrK8m4sJqh
xxl:    http://pre-xxl.meta-hub.com.cn/task-admin   admin /  WypxLCKNsUJlyI3K kafka  10.0.0.205:9092,10.0.0.206:9092,10.0.0.207:9092。 内网可访问
es:  10.0.0.31:9200,10.0.0.32:9200,10.0.0.33:9200
kafka: 10.0.0.31:9092,10.0.0.32:9092,10.0.0.33:9092
flink: https://pre-flink.meta-hub.com.cn
  
 
用户端前端地址: https://pre.meta-hub.com.cn
管理端前端地址: https://pre-cms.meta-hub.com.cn myuser / 123456
```



```sql

delete from sys_config;

INSERT INTO `second_market`.`sys_config;`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (1, 15, 'host', 'https://pre-lj-api.zhigui.com/secondary-market-tiktok', '星盒hosturl', 1, 0, '2022-08-09 18:36:49', '2022-08-09 18:36:49');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (2, 15, 'albums', '/albums', '获取藏品方法', 1, 0, '2022-08-09 18:36:49', '2022-08-09 18:36:49');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (4, 25, 'host', 'https://pre-lj-api.zhigui.com/secondary-market', '灵境hosturl', 1, 0, '2022-08-09 18:40:08', '2022-08-09 18:40:08');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (5, 25, 'albums', '/albums', '获取藏品方法', 1, 0, '2022-08-09 18:40:08', '2022-08-09 18:40:08');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (6, 25, 'transferIn', '/collection_transfer_in', '灵境转入', 1, 0, '2022-08-10 10:12:21', '2022-08-10 10:12:21');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (7, 25, 'transferOut', '/collection_transfer_out', '灵境转出', 1, 0, '2022-08-10 10:12:21', '2022-08-10 10:12:21');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (8, 25, 'collectionList', '/user_collection_list', '灵境藏品list', 1, 0, '2022-08-10 10:12:21', '2022-08-10 10:12:21');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (9, 15, 'transferIn', '/collection_transfer_in', '星盒转入', 1, 0, '2022-08-10 10:12:21', '2022-08-10 10:12:21');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (10, 15, 'transferOut', '/collection_transfer_out', '星盒转出', 1, 0, '2022-08-10 10:12:21', '2022-08-10 10:12:21');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (11, 15, 'collectionList', '/user_collection_list', '星盒藏品list', 1, 0, '2022-08-10 10:12:21', '2022-08-10 10:12:21');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (12, 25, 'transfer', '/collection_transfer_history', '灵境资产变动', 1, 0, '2022-08-10 15:39:28', '2022-08-10 15:39:28');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (13, 15, 'transfer', '/collection_transfer_history', '星盒资产变动', 1, 0, '2022-08-15 15:09:38', '2022-08-15 15:09:38');
INSERT INTO `second_market`.`sys_config`(`id`, `platform_id`, `config_key`, `config_value`, `description`, `type`, `deleted`, `created_at`, `updated_at`) VALUES (14, 0, 'handling_rate', '0.06', NULL, NULL, 0, '2022-08-18 20:16:18', '2022-08-18 20:16:18');


```







keycloak

user_entity

user_role

user_attribute

credential









| 表          |  状态字段   | 描述|
| :----------: | :-----: | :--- |
| 挂售表 | status |    挂售状态 0:待出售 1:已出售 2:已锁定 3:已下架 |
| 藏品表 |  status  | 藏品状态 0:转入中 2:转出中 1:正常 3:已锁定 |
|     藏品表 |   listing_status   |   上架状态 1:已上架 3:未上架   |







```java
汇元支付
wangyuan@zhigui.com 

owner_uid：1071972125197
app_id：hyp200428107197000024987419303A3
MD5key：F8CF6A3E07114934AE684638
3DESkey：016B996F581C4053A0DEBC10
    

生产：
https://yunbiz.heepay.com/Wallet/V1/ApplyPay
所有者:UID1243762139077
应用ID   hyp2208171243760001955850C9A2350
应用名称   四川元枢引力数字科技有限公司  
MD5签名密钥：7FC7418575044F5CB01FD644
3DES加密密钥：86A5866D701B414A9FACAA3B
```



```java
encrypt_data -> 907a15b09925428693b74f4761a76ad30ae4ceccdf3a4954c8fd9e779494d4d72838c8bc199316ba544bf4786d7e8db99e6aac93373cb4acba3b52b62800ce36e2c1caa52a5cf52d5b283deaf044dbd5d83843bbc2aee2baec96d76527867c4571eadcccdba323c961753ff373f7476beb6aad4a57668623094c4bd2e72c5c09b78b855e4fe43749e6d85427d09bbe2eeb6aad4a57668623094c4bd2e72c5c09b78b855e4fe4374934df6ee9b9412efb
```

```json
{"method":"/v1/HeepayAuthPageSign","version":"1.0","app_id":"hyp200428107197000024987419303A3","owner_uid":"1071972125197","charset":"utf-8","sign_type":"MD5","timestamp":"20220812190839","biz_content":{"encrypt_data":"907a15b09925428693b74f4761a76ad30ae4ceccdf3a4954c8fd9e779494d4d72838c8bc199316ba544bf4786d7e8db99e6aac93373cb4acba3b52b62800ce36e2c1caa52a5cf52d5b283deaf044dbd5d83843bbc2aee2baec96d76527867c4571eadcccdba323c961753ff373f7476beb6aad4a57668623094c4bd2e72c5c09b78b855e4fe43749e6d85427d09bbe2eeb6aad4a57668623094c4bd2e72c5c09b78b855e4fe4374934df6ee9b9412efb"},"sign":"73BE562D34D4CF15FE05B4C09104E976"}
```











```txt
proxy发布地址: 8.142.103.74:30081


redis

10.0.0.212 32639

kafka面板
http://39.103.187.228:9998/  admin / YTdXZX03tvO8


中间服务
argo    https://argo-exchange-dev.zhigui.com admin / jMWZinAcYfTjzOsF   公网可访问
keycloak  https://sso-exchange-dev.zhigui.com  hightall / nYvHsk3GEB{G>dotY7XF。 公网可访问 
mysql  8.142.103.74:30017    root /  QqWxTh2J!YpMdhs  ( 需要提供自己的公网ip设置白名单可以访问)   公网可访问
nacos https://nacos-exchange-dev.zhigui.com/nacos   nacos / JRVRnf7b8rzt    公网可访问
redis集群  10.0.0.208:6371,10.0.0.208:6372,10.0.0.208:6373,10.0.0.208:6374,10.0.0.208:6375,10.0.0.208:6376   密码: MTIzNDUzCg==   内网可访问
kafka  10.0.0.205:9092,10.0.0.206:9092,10.0.0.207:9092。 内网可访问
es  10.0.0.205:9200  集群名称 fairy-land   内网可访问
grafana https://grafana-exchange-dev.zhigui.com      admin / qNIxPJY0WMo4NBjakAOzYqIzHzGHYod4EhFBdoo6  (日志查看，服务器资源查看)
签名服务: http://8.142.103.74:30085 (内网 10.0.0.212 30085)
xxl :  https://xxl-exchange-dev.zhigui.com/task-admin/  admin / WypxLCKNsUJlyI3K
 
bcos链 10.0.0.203:20200 10.0.0.203:20201 10.0.0.204:20200 10.0.0.204:20201
前置节点:  http://121.89.244.16:5999/WeBASE-Front/#/contract
合约地址:
superMarketV2 0x66906e2edcbb44bd1c5eab27f948f1196b298ad5
NFTBox 0x5e56ee418dccf5ff1222b665b7bdf3cd8bcaf72a
Commodity 0x2a42ccb6a92f9c018691116f339080ac03f3594a
Brand  0x07d7193d8e8e1f7578ef7ac42eaf6d3f5bb94329
Author 0x688ba952e8dd23d4d9e8b4bfc3eb69a4ca67dbd5
addressController  0x0fee3f07e763f42c0e82308a94806e1e0726ccdb
 
 
远程调试服务器配置  ssh root@39.103.187.228  root / JRVRnf7b8rzt  远程调试文件夹 /data/public

mysql:
10.0.0.212:30017

redis:
10.0.0.212:32639


bcos :
121.89.244.16

nft-mall-bid:8080/bid/fetch 内部访问的地址

```



```
首网短信：

相同内容群发地址：http://106.15.1.248:9090/sms/batch/v1
余额查询地址：http://106.15.1.248:9090/sms/balance/v1?appkey=LJSCDX
appkey：LJSCDX
appsecret：yRlmCC
appcode：1000

    @Value(value = "${sms.sw.uri}")
    private String uri;
    @Value(value = "${sms.sw.appKey}")
    private String appKey;
    @Value(value = "${sms.sw.appSecret}")
    private String appSecret;
    @Value(value = "${sms.sw.appCode}")
    private String appCode;
阿里云短信：
  mock: false
  minReSendPeriod: 25
  expirePeriod: 600
  redisExpirePeriod: 900
  gamefiredisExpirePeriod: 300
  maxVerifyCount: 4
  hostUrl: http://bitex-mc-gateway.test-n.huobiapps.com
  signName: 灵境藏品
  secretId: LTAI5tHaGnWKu6jQTbvGYv2w
  secretKey: UZnfOHzzEfEY0zhh6eUroyihhafHGs
  loginTemplateId: SMS_234158696
  listingTemplateId: SMS_238153162
```





> bcos用户 (二级市场签名机)

| userId |                  address                   | token |
| ------ | :----------------------------------------: | ----: |
| 1234   | 0xb6ec9013f9c89d3cb0344ba24e7883ff2b31add4 |       |
| 1235   | 0x01efd0ff0fa29748821b675282888482192fb8da |     2 |
|        |                                            |       |



> bcos用户 (骨干测试签名机)

| userId           |  address   | token |
| ------------ | :-----: | ---: |
| 188888888 | 0x0d80cc9516bc5449a0e8206d62e7badb3e58661d |   |
| 666666 |  0xe992c19387c61ad81af7537967fd5fb6ed9802b2  | 180005\180007 |
|              |         |      |

```java
LocalDateTime.ofInstant(Instant.ofEpochMilli(Long.parseLong(decode.getClaim("exp").toString())), ZoneId.systemDefault())

```









0xce540ed1e48f1ec94e5fb66b9d4acf6c072f6c75



0x60f681fe88fdf45b0d3523bace1871c9940b6758





http://8.142.103.74:30085/bb-sign/user/newUser?signUserId=12345&appId=1&encryptType=0



{
  "code": 0,
  "message": "success",
  "data": {
    "signUserId": "12345",
    "appId": "1",
    "address": "0x22c5c23f272653a69db97e7a00b5fc6e12a0be69",
    "publicKey": "04c76c9842ebef7f86b7865ea2ab79c82c0c2690c7c49b3cdbeef052eba492125dd14d3f84773ae7da29fa6819a73a75e79d29d8f86ca144b1018b4a98356b8865",
    "privateKey": "",
    "description": null,
    "encryptType": 0
  }
}





```
public static void main(String[] args) {
    List<ListingRuleVo> list = new ArrayList<>();
    ListingRuleVo listingRuleVo = new ListingRuleVo();
    listingRuleVo.setMaxPrice(BigDecimal.ONE);
    listingRuleVo.setMaxPrice(BigDecimal.TEN);
    ListingRuleVo listingRuleVo2 = new ListingRuleVo();
    listingRuleVo2.setMaxPrice(BigDecimal.ONE);
    listingRuleVo2.setMaxPrice(BigDecimal.ZERO);
    list.add(listingRuleVo);
    list.add(listingRuleVo2);

    String s = JSON.toJSONString(list);
    List<ListingRuleVo> listingRuleVos = JSONArray.parseArray(s, ListingRuleVo.class);
    listingRuleVos.forEach(i -> {
        System.out.println(i.getMaxPrice());
    });
}
```



